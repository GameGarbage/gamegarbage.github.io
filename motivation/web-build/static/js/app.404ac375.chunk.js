(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{212:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return An}));var r=n(16),i=n(302),o=n(301),a=n(0),c=n.n(a),s=n(46),l=n(54),u=n(12),d=n.n(u),f=n(141),y={levels:{debug:0,info:1,warn:2,error:3},severity:"debug",transport:f.consoleTransport,transportOptions:{colors:{info:"blueBright",warn:"yellowBright",error:"redBright"}},async:!0,dateFormat:"time",printLevel:!0,printDate:!0,enabled:!0},g=f.logger.createLogger(y),h=Object(l.createSlice)({name:"category",initialState:{value:[]},reducers:{setCategories:function(e,t){g.debug("categorySlice saveCategories",t),e.value=t.payload}}}),b=(Object(l.createAsyncThunk)("category/getCategories",function(){var e=d()((function*(e,t){var n=t.dispatch,r=e.categories;n(b(r))}));return function(t,n){return e.apply(this,arguments)}}()),h.actions.setCategories),p=h.reducer,j=Object(l.createSlice)({name:"counter",initialState:{value:0},reducers:{increment:function(e){e.value+=1},decrement:function(e){e.value-=1},incrementByAmount:function(e,t){e.value+=t.payload}}}),v=j.actions,O=(v.increment,v.decrement,v.incrementByAmount,j.reducer),A=n(5),m=n.n(A),x=n(6),C=n.n(x),k=n(17),S=n.n(k),E=n(18),I=n.n(E),P=n(10),w=n.n(P),D=n(92),B=function(){function e(){m()(this,e)}return C()(e,[{key:"getItem",value:function(){var e=d()((function*(e){return yield D.default.getItem(e)}));return function(t){return e.apply(this,arguments)}}()},{key:"setItem",value:function(){var e=d()((function*(e,t){yield D.default.setItem(e,t)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"mergeItem",value:function(){var e=d()((function*(e,t){yield D.default.mergeItem(e,t)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"multiSet",value:function(){var e=d()((function*(e){yield D.default.multiSet(e)}));return function(t){return e.apply(this,arguments)}}()},{key:"clear",value:function(){var e=d()((function*(){yield D.default.clear()}));return function(){return e.apply(this,arguments)}}()}]),e}();function R(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var i=w()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return I()(this,n)}}var T=function(e){S()(n,e);var t=R(n);function n(){return m()(this,n),t.apply(this,arguments)}return C()(n,[{key:"getTasksByCategory",value:function(){var e=d()((function*(e){var t=this.getKeyPrefix()+e;return yield this.getItem(t)}));return function(t){return e.apply(this,arguments)}}()},{key:"setTasksByCategory",value:function(){var e=d()((function*(e,t){var n=this.getKeyPrefix()+e;yield this.setItem(n,t)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"mergeTaskByCategory",value:function(){var e=d()((function*(e,t){var n=this.getKeyPrefix()+e;yield this.mergeItem(n,t)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"getKeyPrefix",value:function(){return"tasks-category-"}}]),n}(B),J=new T,Q=n(40),H=Object(Q.object)({id:Object(Q.string)().required(),title:Object(Q.string)().required(),categoryId:Object(Q.string)().required(),description:Object(Q.string)().nullable(),selectedDaysRepeat:Object(Q.array)().of(Object(Q.string)()).nullable(),date:Object(Q.date)().nullable(),time:Object(Q.date)().nullable(),createdDate:Object(Q.date)().nullable(),updatedDate:Object(Q.date)().nullable()}),M=Object(Q.array)().of(H),U="recent-actions",L="my-actions",F=3,G="https://gamegarbage.github.io",K="#489C93",Y=n(114),N=n.n(Y),W=C()((function e(t){m()(this,e);var n=t.id,r=t.title,i=t.description,o=t.selectedDaysRepeat,a=t.date,c=t.time,s=t.deleted,l=t.categoryId,u=t.createdDate,d=t.updatedDate;this.id=n||N.a.v4(),this.title=r,this.categoryId=l,this.description=i,this.selectedDaysRepeat=o,this.date=a,this.time=c,this.deleted=s,this.createdDate=u||new Date,this.updatedDate=d||new Date})),z=function(){function e(){m()(this,e),this.tasks=[]}return C()(e,[{key:"get",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?this.tasks:this.tasks.filter((function(e){return!e.deleted}))}},{key:"add",value:function(e){return this.tasks.push(e),this.tasks}},{key:"softDelete",value:function(e){var t=-1;return this.tasks=this.tasks.map((function(n,r){return n.id==e.id&&(n.deleted=!0,t=r),n})),t}},{key:"set",value:function(e){e&&(this.tasks=e.map((function(e){var t=new W(e);return t.categoryId||(t.categoryId=L),t})))}},{key:"remove",value:function(e){this.tasks=this.tasks.filter((function(t){return t.id!==e.id&&!0!==t.deleted}))}},{key:"undo",value:function(e){this.tasks=this.tasks.map((function(t){return t.id===e.id&&(t.deleted=!1),t}))}},{key:"update",value:function(e){return this.tasks=this.tasks.map((function(t){return t.id===e.id?e:t})),this.tasks}}]),e}(),V=Object(l.createSlice)({name:"task",initialState:{value:[]},reducers:{setTasks:function(e,t){g.debug("taskSlice setTasks",t),e.value=t.payload}}}),X=Object(l.createAsyncThunk)("task/saveTasksByCategory",function(){var e=d()((function*(e,t){var n=t.dispatch,r=e.categoryId,i=e.tasks;yield M.validate(i),yield J.setTasksByCategory(r,JSON.stringify(i)),n(_(i))}));return function(t,n){return e.apply(this,arguments)}}()),Z=Object(l.createAsyncThunk)("task/saveRecent",function(){var e=d()((function*(e){var t=e.recent,n=e.isUpdate;yield H.validate(t);var r=JSON.parse(yield J.getTasksByCategory(U))||[];(n||r.some((function(e){return e.id===t.id})))&&(r=r.filter((function(e){return e.id!==t.id}))),r.length>=F&&(r=r.slice(1,F)),r.push(t),yield J.setTasksByCategory(U,JSON.stringify(r))}));return function(t){return e.apply(this,arguments)}}()),q=Object(l.createAsyncThunk)("task/getTasksByCategory",function(){var e=d()((function*(e,t){var n=t.dispatch,r=e.categoryId,i=e.includeDeleted;try{var o=JSON.parse(yield J.getTasksByCategory(r));if(!o)throw Error("Empty Task for Category");var a=new z;a.set(o),n(_(a.get(i)))}catch(c){g.warn(c),n(_([]))}}));return function(t,n){return e.apply(this,arguments)}}()),_=V.actions.setTasks,$=V.reducer,ee=Object(l.createSlice)({name:"activeCategory",initialState:{value:null},reducers:{setActiveCategory:function(e,t){g.debug("setActiveCategory",t),e.value=t.payload}}}),te=ee.actions.setActiveCategory,ne=ee.reducer,re=Object(l.configureStore)({reducer:{counter:O,task:$,category:p,activeCategory:ne},middleware:function(e){return e({serializableCheck:!1})}}),ie=n(4),oe=n.n(ie),ae=n(8),ce=n.n(ae),se=n(2),le=n(45),ue=n(15),de=n.n(ue),fe=n(14),ye=n(3),ge=n(1),he=["icon","label","variant","size","color","tintColor","loading","loadingIndicator","loadingIndicatorPosition","visible","style","pressableContainerStyle","contentContainerStyle","iconContainerStyle","labelContainerStyle","labelStyle","loadingOverlayContainerStyle","pressEffect","pressEffectColor","onPress","onPressIn","onPressOut","onLongPress","onBlur","onFocus","onMouseEnter","onMouseLeave","delayLongPress","disabled","hitSlop","pressRetentionOffset","android_disableSound","android_ripple","testOnly_pressed"];function be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?be(Object(n),!0).forEach((function(t){oe()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var je=function(e){var t=e.icon,n=e.label,i=e.variant,o=void 0===i?"standard":i,c=e.size,s=void 0===c?"default":c,l=e.color,u=void 0===l?"secondary":l,d=e.tintColor,f=e.loading,y=void 0!==f&&f,g=e.loadingIndicator,h=e.loadingIndicatorPosition,b=void 0===h?"icon":h,p=e.visible,j=void 0===p||p,v=e.style,O=e.pressableContainerStyle,A=e.contentContainerStyle,m=e.iconContainerStyle,x=e.labelContainerStyle,C=e.labelStyle,k=e.loadingOverlayContainerStyle,S=e.pressEffect,E=e.pressEffectColor,I=e.onPress,P=e.onPressIn,w=e.onPressOut,D=e.onLongPress,B=e.onBlur,R=e.onFocus,T=e.onMouseEnter,J=e.onMouseLeave,Q=e.delayLongPress,H=e.disabled,M=e.hitSlop,U=e.pressRetentionOffset,L=e.android_disableSound,F=e.android_ripple,G=e.testOnly_pressed,K=de()(e,he),Y=Object(r.usePaletteColor)(u,d),N=Object(a.useMemo)((function(){return t||y&&"icon"===b}),[t,y,b]),W=Object(r.useStyles)((function(){return{container:{backgroundColor:Y.main,borderRadius:"default"===s?28:20},pressableContainer:{borderRadius:"default"===s?28:20,overflow:"hidden"},pressable:{flexDirection:"row",alignItems:"center",paddingStart:"extended"===o?N?"default"===s?12:6:"default"===s?20:10:"default"===s?16:8,paddingEnd:"extended"===o?"default"===s?20:10:"default"===s?16:8,paddingVertical:"default"===s?16:8},iconContainer:{justifyContent:"center",alignItems:"center",width:24,height:24},labelContainer:{marginStart:N?"default"===s?12:6:0},loadingOverlayContainer:pe(pe({},ye.default.absoluteFillObject),{},{justifyContent:"center",alignItems:"center",backgroundColor:Y.main})}}),[o,s,Y,N]),z=Object(a.useRef)(new fe.default.Value(j?1:0)).current;Object(a.useEffect)((function(){fe.default.timing(z,{toValue:j?1:0,duration:200,useNativeDriver:!0}).start()}),[j]);var V=function(){if(!g)return Object(ge.jsx)(r.ActivityIndicator,{color:Y.on});switch(typeof g){case"string":return Object(ge.jsx)(r.Text,{variant:"button",style:{color:Y.on},children:g});case"function":return g({color:Y.on});default:return g}},X=Object(a.useState)(!1),Z=ce()(X,2),q=Z[0],_=Z[1],$=Object(a.useCallback)((function(e){null==P||P(e),_(!0)}),[P]),ee=Object(a.useCallback)((function(e){null==w||w(e),_(!1)}),[w]),te=Object(r.useAnimatedElevation)(q?12:6);return Object(ge.jsx)(r.Surface,pe(pe({style:[te,W.container,{transform:[{scale:z}]},v]},K),{},{children:Object(ge.jsx)(se.default,{style:[W.pressableContainer,O],children:Object(ge.jsxs)(r.Pressable,{style:[W.pressable,A],pressEffect:S,pressEffectColor:null!=E?E:Y.on,onPress:I,onPressIn:$,onPressOut:ee,onLongPress:D,onBlur:B,onFocus:R,onMouseEnter:T,onMouseLeave:J,delayLongPress:Q,disabled:H,hitSlop:M,pressRetentionOffset:U,android_disableSound:L,android_ripple:F,testOnly_pressed:G,children:[N&&Object(ge.jsx)(se.default,{style:[W.iconContainer,m],children:y&&"icon"===b?V():"function"===typeof t?t({color:Y.on,size:24}):t}),"extended"===o&&Object(ge.jsx)(se.default,{style:[W.labelContainer,x],children:function(){switch(typeof n){case"string":return Object(ge.jsx)(r.Text,{variant:"button",selectable:!1,style:[{color:Y.on},C],children:n});case"function":return n({color:Y.on});default:return n}}()}),y&&"overlay"===b&&Object(ge.jsx)(se.default,{style:[W.loadingOverlayContainer,k],children:V()})]})})}))};function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(n),!0).forEach((function(t){oe()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ae,me=function(e){var t=e.onMenuClick,n=e.onAddClick;return Object(ge.jsx)(r.AppBar,{variant:"bottom",color:K,leading:function(e){return Object(ge.jsx)(r.IconButton,Oe({contentContainerStyle:{left:15},onPress:t,color:"white",icon:function(e){return Object(ge.jsx)(le.default,Oe(Oe({name:"menu"},e),{},{color:"white"}))}},e))},style:{position:"absolute",start:0,end:0,bottom:0},children:Object(ge.jsx)(je,{color:K,tintColor:"white",onPress:n,icon:function(e){return Object(ge.jsx)(le.default,Oe({name:"plus"},e))},style:{position:"absolute",top:-28,alignSelf:"center",borderColor:"white",borderWidth:1}})})};function xe(e){var t=e.onPress;return Object(ge.jsxs)(se.default,{style:{backgroundColor:"white",flex:1,alignItems:"center",justifyContent:"center"},children:[Object(ge.jsx)(r.IconButton,{icon:function(e){return Object(ge.jsx)(le.default,{size:50,name:"plus"})},onPress:t}),Object(ge.jsx)(r.Text,{style:{padding:30,color:"grey",fontSize:18},children:"Click to create task, You have no task"})]})}var Ce=function(e){var t=e.item,n=e.onUndo,i=e.visible,o=e.setVisible,c=e.onDone;return Object(a.useEffect)((function(){i&&(g.debug("RemovedSnackBar",t),Ae=setTimeout((function(){c(t),o(!1)}),4e3))}),[i]),i&&Object(ge.jsx)(se.default,{style:{flex:1},children:Object(ge.jsx)(r.Snackbar,{message:"Removed Item",action:Object(ge.jsx)(r.Button,{variant:"text",title:"Undo",color:"#6666ff",compact:!0,onPress:function(){clearTimeout(Ae),n(t),o(!1)}}),style:{position:"absolute",start:16,end:16,bottom:70}})})},ke=n(214),Se=!1;function Ee(e){var t=e.activeCategory,n=e.onDelete,i=e.onUpdate,o=e.visible,c=e.setVisible,s="my-task"===(null==t?void 0:t.id),l=Object(a.useRef)(null);Object(a.useEffect)((function(){var e;o?function(){var e;Se=!1,null==(e=l.current)||e.show()}():null==(e=l.current)||e.hide()}),[o]);return Object(ge.jsx)(ke.default,{ref:l,onClose:function(){Se&&i(t),c(!1)},children:Object(ge.jsxs)(se.default,{style:{margin:20,display:"flex"},children:[Object(ge.jsx)(r.Button,{variant:"text",onPress:function(){var e;Se=!1,null==(e=l.current)||e.hide(),n(t)},disabled:s,title:"Remove Category"},"remove-category"),Object(ge.jsx)(r.Divider,{style:{margin:5}}),Object(ge.jsx)(r.Button,{variant:"text",onPress:function(){var e;Se=!0,null==(e=l.current)||e.hide()},disabled:s,title:"Update Category"},"update-category")]})})}var Ie=n(51),Pe=function(){function e(t){m()(this,e),this.tabs=[],t&&(this.tabs=t),this.setDefaultActiveTab()}return C()(e,[{key:"setDefaultActiveTab",value:function(){this.tabs.length>0&&!this.tabs.some((function(e){return e.active}))&&(this.tabs[0].active=!0)}}]),e}(),we=n(49),De=["onPress","children","active","customStyles"];function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(n),!0).forEach((function(t){oe()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Te(e){var t=e.onPress,n=e.children,r=(e.active,e.customStyles),i=de()(e,De);return Object(ge.jsx)(we.default,Re(Re({onPress:t,style:function(e){var t=e.pressed;return[Je.button,t?Je.buttonPressed:"",r]}},i),{},{children:n}))}var Je=ye.default.create({buttonPressed:{opacity:.5},button:{padding:10,textAlign:"center",overflow:"hidden",textOverflow:"ellipsis"}}),Qe=["tabs","activeCategory","onAdd","onClick","onDelete","onUpdate","onLongPress"];function He(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?He(Object(n),!0).forEach((function(t){oe()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):He(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ue(e){var t=e.tabs,n=e.activeCategory,i=e.onAdd,o=e.onClick,a=(e.onDelete,e.onUpdate,e.onLongPress),c=(de()(e,Qe),new Pe(t)),s=function(e){o(e)};return Object(ge.jsxs)(se.default,{style:Le.tabContainer,children:[c.tabs&&n&&Object(ge.jsx)(Ie.default,{horizontal:!0,style:{flexGrow:0},children:Object(ge.jsx)(se.default,{style:{display:"flex",flexDirection:"row"},children:c.tabs.map((function(e,t){var i=e.id===n.id;return Object(ge.jsx)(Te,{onPress:function(){s(e)},onLongPress:function(){s(e),a()},customStyles:i?Me(Me({},Le.button),Le.active):Me({},Le.button),active:i,children:Object(ge.jsx)(r.Text,{numberOfLines:1,style:i?Le.textActive:"",children:e.title})},t)}))})}),Object(ge.jsx)(r.IconButton,{onPress:i,icon:function(e){return Object(ge.jsx)(le.default,Me({name:"plus"},e))}},"add-category")]})}var Le=ye.default.create({button:{width:80},buttonMenu:{width:60},tabContainer:{display:"flex",flexDirection:"row",backgroundColor:"white",borderBottomWidth:2,borderBottomColor:"rgb(216, 216, 216)"},buttonActive:{width:120,borderColor:K,borderBottomWidth:2},textActive:{color:K},active:{textColor:K,borderColor:K,borderBottomWidth:3,borderRadius:3}}),Fe=C()((function e(t){var n=t.id,r=t.title,i=t.deleted,o=t.createdDate,a=t.updatedDate;m()(this,e),this.id=n||N.a.v4(),this.title=r,this.deleted=i,this.createdDate=o||new Date,this.updatedDate=a||new Date})),Ge=n(52),Ke=n(43),Ye=function(e){var t=e.children;return Object(ge.jsx)(Ke.default,{onPress:function(){return Ge.default.dismiss()},children:t})},Ne=n(35),We=n(9),ze=ye.default.create({backdrop:{backgroundColor:"rgba(0,0,0,.5)"},container:{justifyContent:"center",alignItems:"center",height:"95%"},surface:{width:"100%",marginHorizontal:40}}),Ve=function(e){var t=e.visible,n=void 0!==t&&t,i=e.onDismiss,o=e.children,c=Object(a.useState)(n),s=ce()(c,2),l=s[0],u=s[1],d=Object(a.useMemo)((function(){return new fe.default.Value(n?1:0)}),[]);return Object(a.useEffect)((function(){n&&u(!0),fe.default.timing(d,{toValue:n?1:0,duration:225,easing:Ne.default.out(Ne.default.cubic),useNativeDriver:"android"!==We.default.OS}).start((function(){n||u(!1)}))}),[n]),l?Object(ge.jsxs)(r.Portal,{children:[Object(ge.jsx)(Ke.default,{onPress:i,children:Object(ge.jsx)(fe.default.View,{style:[ye.default.absoluteFill,ze.backdrop,{opacity:d}]})}),Object(ge.jsx)(fe.default.View,{style:[ye.default.absoluteFill,ze.container,{opacity:d}],pointerEvents:"box-none",needsOffscreenAlphaCompositing:"android"===We.default.OS,children:Object(ge.jsx)(r.Surface,{category:"medium",elevation:24,style:[ze.surface],children:o})})]}):null};function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(n),!0).forEach((function(t){oe()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qe(e){var t=e.category,n=e.visible,i=e.onClose,o=e.onSave,c=e.onDelete,s=a.useState((null==t?void 0:t.title)||""),l=ce()(s,2),u=l[0],d=l[1],f=!!t,y=a.useState("Create Category"),g=ce()(y,2),h=g[0],b=g[1];a.useEffect((function(){b(t?"Update Category":"Create Category")}),[e.task]);return Object(ge.jsx)(Ve,{visible:n,onDismiss:i,children:Object(ge.jsx)(Ye,{children:Object(ge.jsxs)(se.default,{children:[Object(ge.jsxs)(se.default,{style:{display:"flex",flexDirection:"row"},id:"task-form",children:[Object(ge.jsx)(se.default,{style:{flex:1},children:Object(ge.jsx)(r.DialogHeader,{title:h})}),f&&Object(ge.jsx)(r.IconButton,{onPress:function(){c(t)},icon:function(e){return Object(ge.jsx)(le.default,Ze({name:"delete"},e))}}),Object(ge.jsx)(r.IconButton,{onPress:i,icon:function(e){return Object(ge.jsx)(le.default,Ze({name:"close"},e))}})]}),Object(ge.jsx)(r.DialogContent,{children:Object(ge.jsx)(se.default,{children:Object(ge.jsx)(r.TextInput,{value:u,onChangeText:d,placeholder:"Category Title"})})}),Object(ge.jsxs)(r.DialogActions,{children:[Object(ge.jsx)(r.Button,{variant:"outlined",title:"Cancel",onPress:i}),Object(ge.jsx)(r.Button,{disabled:!u,title:f?"Update":"Create",onPress:function(){var e=t?t.id:null,n=new Fe({id:e,title:u});o(n,f)}})]})]})})})}var _e=n(36),$e=["color","disabled","onChange","onValueChange","style","value","keyword"];function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(Object(n),!0).forEach((function(t){oe()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var nt=function(e){var t=e.color,n=e.disabled,r=(e.onChange,e.onValueChange),i=e.style,o=e.value,c=e.keyword,s=de()(e,$e),l=Object(a.useCallback)((function(){r&&r(!o,c)}),[r,o]);return Object(ge.jsx)(we.default,tt(tt({},s),{},{disabled:n,accessibilityRole:"checkbox",accessibilityState:{disabled:n,checked:o},style:[ot.root,i,o&&ot.checked,!!t&&{backgroundColor:o?t:void 0,borderColor:t},n&&ot.disabled,o&&n&&ot.checkedAndDisabled],onPress:l,children:o&&Object(ge.jsx)(_e.default,{source:{uri:"data:image/png;base64,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"},style:ye.default.absoluteFill})}))};nt.displayName="Checkbox";var rt=nt,it=We.default.select({ios:"#007AFF",android:"#009688"}),ot=ye.default.create({root:{height:20,width:20,borderRadius:2,borderWidth:2,borderColor:"#657786"},checked:{backgroundColor:it,borderColor:it},disabled:{borderColor:"#CCD6DD",backgroundColor:"transparent"},checkedAndDisabled:{backgroundColor:"#AAB8C2",borderColor:"#AAB8C2"}});function at(e){var t=e.tasks,n=e.onPress;return Object(ge.jsx)(se.default,{style:{flex:1},children:t&&t.map((function(e,t){var i,o=e.date?new Date(e.date):"",a=e.time?new Date(e.time):"";return(o||a)&&(o||(i=a),a||(i=o),o&&a&&((i=o).setHours(a.getHours()),i.setMinutes(a.getMinutes()))),Object(ge.jsx)(we.default,{onPress:function(){n(e)},children:Object(ge.jsxs)(se.default,{style:[ct.listItem],children:[Object(ge.jsx)(rt,{style:{borderRadius:"50%",padding:12},value:!1,keyword:e.title,onValueChange:function(){console.log("bbbbbbbbb")}}),Object(ge.jsxs)(se.default,{style:{width:"100%",paddingLeft:10,margin:5},children:[Object(ge.jsx)(r.Text,{children:e.title}),Object(ge.jsx)(r.Text,{style:ct.description,children:e.description}),Object(ge.jsx)(r.Text,{style:ct.time,children:i&&i.toLocaleDateString("en-US")})]})]})},e.id+t)}))})}nt.isAvailableAsync=function(){return console.warn("Checkbox.isAvailableAsync() is deprecated and will be removed in future releases"),Promise.resolve(!0)};var ct=ye.default.create({listItem:{display:"flex",flexDirection:"row",borderBottomColor:"rgb(216, 216, 216)",borderBottomWidth:2,paddingLeft:15,alignItems:"center",minHeight:50},description:{color:"grey",fontSize:12},time:{color:"green",fontSize:12}}),st=Object(Q.object)({id:Object(Q.string)().required(),title:Object(Q.string)().required(),deleted:Object(Q.boolean)().nullable(),createdDate:Object(Q.date)().nullable(),updatedDate:Object(Q.date)().nullable()}),lt=Object(Q.array)().of(st),ut=n(19),dt=n.n(ut);function ft(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var i=w()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return I()(this,n)}}var yt,gt,ht,bt=function(e){S()(n,e);var t=ft(n);function n(){return m()(this,n),t.apply(this,arguments)}return C()(n,[{key:"getCategories",value:function(){var e=d()((function*(){var e=this.getKeyPrefix();return yield this.getItem(e)}));return function(){return e.apply(this,arguments)}}()},{key:"setCategories",value:function(){var e=d()((function*(e){var t=this.getKeyPrefix();yield this.setItem(t,e)}));return function(t){return e.apply(this,arguments)}}()},{key:"getKeyPrefix",value:function(){return"categories"}}]),n}(B),pt=(new bt,function(){function e(){m()(this,e),this.categoryDao=new bt,this.defaultCategory=new Fe({id:L,title:"My Actions"}),this.dispatch=Object(s.useDispatch)()}return C()(e,[{key:"getCategories",value:function(){var e=d()((function*(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];g.debug("getCategories",e);try{var t=JSON.parse(yield this.categoryDao.getCategories());return e||(t=t.filter((function(e){return!e.deleted}))),t.map((function(e){return new Fe(e)}))}catch(n){return g.error("getCategories error",n),[]}}));return function(){return e.apply(this,arguments)}}()},{key:"getCategoriesWithDefault",value:function(){var e=d()((function*(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];g.debug("getCategoriesWithDefault",t);try{e=yield this.getCategories(t),e=[this.defaultCategory].concat(dt()(e))}catch(n){g.warn("getCategoriesWithDefault error",n),e=[this.defaultCategory]}return e}));return function(){return e.apply(this,arguments)}}()},{key:"setActiveCategory",value:function(e){return st.validateSync(e),this.dispatch(te(e))}},{key:"setCategories",value:function(e){return this.dispatch(b(e))}},{key:"setActiveCategoriesAndLoadTasks",value:function(e){var t=this;Object(s.batch)((function(){t.dispatch(q({categoryId:e.id,includeDeleted:!1,category:e})),t.dispatch(te(e))}))}},{key:"saveCategories",value:function(){var e=d()((function*(e,t){var n;n=t?yield this.updateCategory(e):yield this.addCategories(e),lt.validate(n),yield this.categoryDao.setCategories(JSON.stringify(n)),this.setCategories([this.defaultCategory].concat(dt()(n)),e)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"addCategories",value:function(){var e=d()((function*(e){try{var t=yield this.getCategories();return t.push(e),t}catch(n){console.log(n)}}));return function(t){return e.apply(this,arguments)}}()},{key:"removeCategories",value:function(){var e=d()((function*(e){g.debug("removeCategories",e);try{st.validate(e);var t=yield this.getCategories(!0);t=t.filter((function(t){return t.id!==e.id&&!0!==t.deleted})),lt.validate(t),yield this.categoryDao.setCategories(JSON.stringify(t))}catch(n){g.error("removeCategories",n)}}));return function(t){return e.apply(this,arguments)}}()},{key:"softRemoveCategories",value:function(){var e=d()((function*(e){g.debug("softRemoveCategories",e);try{st.validate(e);var t=yield this.getCategories();t=t.map((function(t){return t.id===e.id&&(t.deleted=!0),t})),lt.validate(t),yield this.categoryDao.setCategories(JSON.stringify(t)),this.setCategories([this.defaultCategory].concat(dt()(t))),g.info("softRemoveCategories success")}catch(n){g.error("softRemoveCategories",n)}}));return function(t){return e.apply(this,arguments)}}()},{key:"undoRemovedCategory",value:function(){var e=d()((function*(e){var t=e.item,n=e.dispatch;g.debug("undoRemovedCategory",t);try{st.validate(t);var r=yield this.getCategories(!0);return r=r.map((function(e){return e.id==t.id&&(e.deleted=!1),e})),lt.validate(r),yield this.categoryDao.setCategories(JSON.stringify(r)),n&&n(b([this.defaultCategory].concat(dt()(r)))),{item:t}}catch(i){g.error("undoRemovedCategory",i)}}));return function(t){return e.apply(this,arguments)}}()},{key:"updateCategory",value:function(){var e=d()((function*(e){try{var t=yield this.getCategories();return t=t.map((function(t){return t.id==e.id&&(t=e),t}))}catch(n){g.error("updateCategory",n)}}));return function(t){return e.apply(this,arguments)}}()}]),e}()),jt=function(){return yt||(yt=new pt)},vt=function(){function e(){m()(this,e),this.taskDao=new T,this.dispatch=Object(s.useDispatch)()}return C()(e,[{key:"getTasksByCategory",value:function(){var e=d()((function*(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];g.debug("getTasksByCategory",e,t);try{var n=JSON.parse(yield this.taskDao.getTasksByCategory(e)),r=new z;return r.set(n),r}catch(i){return g.warn(i),[]}}));return function(t){return e.apply(this,arguments)}}()},{key:"getTasksByCategoryStore",value:function(){var e=d()((function*(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];g.debug("getTasksByCategoryStore",e,t);try{this.dispatch(q({categoryId:e,includeDeleted:t}))}catch(n){return g.warn(n),[]}}));return function(t){return e.apply(this,arguments)}}()},{key:"setTasksStore",value:function(){var e=d()((function*(e){yield M.validate(e),this.dispatch(_(e))}));return function(t){return e.apply(this,arguments)}}()},{key:"setTasksByCategory",value:function(){var e=d()((function*(e,t){g.debug("setTasksByCategory",e,t);try{yield M.validate(t),yield this.taskDao.setTasksByCategory(e,JSON.stringify(t)),g.info("setTasksByCategory success")}catch(n){g.error(n)}}));return function(t,n){return e.apply(this,arguments)}}()},{key:"saveTaskByCategory",value:function(){var e=d()((function*(e){var t=e.categoryId,n=e.item,r=e.isUpdate,i=e.dispatch;g.debug("saveTaskByCategory",t,n,r),r?t===n.categoryId?yield this.updateTaskByCategory({categoryId:t,item:n,dispatch:i}):(yield this.removeTaskByCategory({categoryId:n.categoryId,item:n,dispatch:i}),n.categoryId=t,yield this.addTaskByCategory({categoryId:t,item:n,dispatch:i})):yield this.addTaskByCategory({categoryId:t,item:n,dispatch:i}),i&&i(Z({recent:n,isUpdate:r}))}));return function(t){return e.apply(this,arguments)}}()},{key:"removeTaskByCategory",value:function(){var e=d()((function*(e){var t=e.categoryId,n=e.item,r=e.dispatch;g.debug("removeTaskByCategory",t,n);try{yield H.validate(n);var i=yield this.getTasksByCategory(t);return i.remove(n),r&&r(X({categoryId:t,tasks:i.get()})),n}catch(o){g.error(o)}}));return function(t){return e.apply(this,arguments)}}()},{key:"undoRemovedTask",value:function(){var e=d()((function*(e){var t=e.item,n=e.dispatch;g.debug("undoRemovedTask",t);try{yield H.validate(t);var r=t.categoryId,i=yield this.getTasksByCategory(r);i.undo(t);var o=i.get();return n&&n(X({categoryId:r,tasks:o})),{item:t,list:o}}catch(a){g.error(a)}}));return function(t){return e.apply(this,arguments)}}()},{key:"softRemoveTaskByCategory",value:function(){var e=d()((function*(e,t){g.debug("softRemoveTaskByCategory",e,t);try{yield H.validate(t);var n=yield this.getTasksByCategory(e);if(-1==n.softDelete(t))throw Error("not found "+JSON.parse(t));this.dispatch(X({categoryId:e,tasks:n.get(!0)})),g.info("softRemoveTaskByCategory success")}catch(r){g.error(r)}}));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTaskByCategory",value:function(){var e=d()((function*(e){var t=e.categoryId,n=e.item,r=e.dispatch;g.debug("updateTaskByCategory",t,n);try{yield H.validate(n);var i=(yield this.getTasksByCategory(t)).update(n);return r&&r(X({categoryId:t,tasks:i})),i}catch(o){g.error(o)}}));return function(t){return e.apply(this,arguments)}}()},{key:"addTaskByCategory",value:function(){var e=d()((function*(e){var t=e.categoryId,n=e.item,r=e.dispatch;g.debug("addTaskByCategory",t,n);try{yield H.validate(n);var i=(yield this.getTasksByCategory(t)).add(n);return r&&r(X({categoryId:t,tasks:i})),i}catch(o){g.error(o)}}));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ot=function(){return gt||(gt=new vt)},At=function(){function e(){m()(this,e),this.taskService=new vt,this.categoryService=new pt}return C()(e,[{key:"removeAble",value:function(e){return!(!this.isTaskModel(e)&&!this.isTaskCategoryModel(e))}},{key:"isTaskModel",value:function(e){return"TaskModel"===e.constructor.name}},{key:"isTaskCategoryModel",value:function(e){return"TaskCategoryModel"===e.constructor.name}},{key:"undo",value:function(e){g.debug("undo",e),this.removeAble(e)}},{key:"removePermanent",value:function(){var e=d()((function*(e){if(g.debug("removePermanent",e),this.removeAble(e)){if(this.isTaskModel(e)){var t=yield this.taskService.removeTaskByCategory(e.categoryId,e);return g.info("removePermanent success"),t}if(this.isTaskCategoryModel(e)){var n=yield this.categoryService.removeCategories(e);return g.info("removePermanent success"),n}g.info("removePermanent failed")}}));return function(t){return e.apply(this,arguments)}}()},{key:"undoRemoved",value:function(){var e=d()((function*(e){var t=e.item,n=e.dispatch;if(g.debug("undoRemoved",t),this.removeAble(t)){if(this.isTaskModel(t)){var r=yield this.taskService.undoRemovedTask({item:t,dispatch:n});return g.info("undoRemoved success"),r.item}if(this.isTaskCategoryModel(t)){var i=yield this.categoryService.undoRemovedCategory({item:t,dispatch:n});return g.info("undoRemoved success"),i.item}g.info("undoRemoved failed")}}));return function(t){return e.apply(this,arguments)}}()}]),e}(),mt=n(307);function xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xt(Object(n),!0).forEach((function(t){oe()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var kt=function(e){try{var t=e.categories,n=e.tasks,r=e.activeCategory;lt.validateSync(t),M.validateSync(n),r&&st.validateSync(r),g.info("validateScreen success")}catch(i){throw g.error("validateScreen",i),i}},St=Object(s.connect)((function(e){return{categories:e.category.value,activeCategory:e.activeCategory.value,tasks:e.task.value.filter((function(e){return!e.deleted}))}}))((function(e){var t=e.navigation,n=e.route,r=e.categories,i=e.tasks,o=e.activeCategory,l=c.a.useState(null),u=ce()(l,2),f=u[0],y=u[1],h=c.a.useState(!1),b=ce()(h,2),p=b[0],j=b[1],v=c.a.useState(!1),O=ce()(v,2),A=O[0],m=O[1],x=c.a.useState(!1),C=ce()(x,2),k=C[0],S=C[1],E=c.a.useState(null),I=ce()(E,2),P=I[0],w=I[1],D=n.params;Object(a.useEffect)((function(){t.setOptions({headerLeft:function(e){return Object(ge.jsx)(mt.default,Ct(Ct({},e),{},{onPress:function(){t.goBack()},labelVisible:!0,tintColor:K}))}}),H(),kt({activeCategory:o,categories:r,tasks:i})}),[]),Object(a.useEffect)((function(){"delete"===(null==D?void 0:D.action)&&M(D.item),"reload"===(null==D?void 0:D.action)&&(null==D?void 0:D.category)&&R.setActiveCategory(D.category)}),[D]);var B=Ot(),R=jt(),T=ht||(ht=new At),J=Object(s.useDispatch)(),Q=function(e){t.navigate("ActionDetail",{task:e?JSON.stringify(e):null,categoryId:null==e?void 0:e.categoryId})},H=function(){var e=d()((function*(){g.debug("initTaskScreen",o);var e=yield R.getCategoriesWithDefault();R.setCategories(e);var t=o||e[0];R.setActiveCategory(t),B.getTasksByCategoryStore(t.id)}));return function(){return e.apply(this,arguments)}}(),M=function(){var e=d()((function*(e){g.debug("onDeleteTask",e),yield B.softRemoveTaskByCategory(e.categoryId,e),V(e)}));return function(t){return e.apply(this,arguments)}}(),U=function(){j(!0)},L=function(){var e=d()((function*(){y(null),U()}));return function(){return e.apply(this,arguments)}}(),F=function(){var e=d()((function*(e){R.setActiveCategoriesAndLoadTasks(e)}));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=d()((function*(){j(!1)}));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=d()((function*(e,t){g.debug("onSaveCategoryForm",e,t),yield R.saveCategories(e,t),G(),g.info("onSaveCategoryForm success")}));return function(t,n){return e.apply(this,arguments)}}(),N=function(){var e=d()((function*(e){yield W(e),G()}));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=d()((function*(e){g.debug("onDeleteCategoryTab",e),yield R.softRemoveCategories(e),V(e)}));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=d()((function*(e){g.debug("onUpdateCategoryTab",e),y(e),U()}));return function(t){return e.apply(this,arguments)}}(),V=function(e){g.debug("enableSnack",e),"TaskModel"!==e.constructor.name&&"TaskCategoryModel"!==e.constructor.name||(w(e),S(!0),g.info("enableSnack success"))},X=function(){var e=d()((function*(e){g.debug("onClickUndoRemovedSnackBar",e),yield T.undoRemoved({item:e,dispatch:J})}));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=d()((function*(e,t){g.debug("onDoneRemovedSnackBar",e),yield T.removePermanent(e)}));return function(t,n){return e.apply(this,arguments)}}();return Object(ge.jsxs)(se.default,{style:{flex:1,backgroundColor:"white"},className:"wrapper",children:[r&&Object(ge.jsx)(Ue,{tabs:r,activeCategory:o,onAdd:L,onClick:F,onLongPress:function(){m(!0)}}),i.length>0?Object(ge.jsx)(at,{tasks:i,onPress:function(e){return Q(e)}}):Object(ge.jsx)(xe,{onPress:function(){Q()}}),p&&Object(ge.jsx)(qe,{category:f,onClose:G,visible:p,onSave:Y,onDelete:N}),Object(ge.jsx)(Ee,{activeCategory:o,visible:A,setVisible:m,onDelete:W,onUpdate:z}),Object(ge.jsx)(Ce,{visible:k,setVisible:S,item:P,onUndo:X,onDone:Z}),Object(ge.jsx)(me,{onMenuClick:function(){m(!0)},onAddClick:function(){t.navigate("ActionDetail",JSON.stringify({categoryId:o.id}))},style:{height:600}})]})})),Et=n(44);function It(e){var t=e.style,n=e.label,i=e.textStyle,o=e.onPress;return Object(ge.jsx)(we.default,{style:t||Pt.box,onPress:o,children:Object(ge.jsx)(se.default,{style:{alignItems:"center",justifyContent:"center",flex:1},children:Object(ge.jsx)(r.Text,{style:i||"",children:n||"Title"})})})}var Pt=ye.default.create({box:{width:150,height:"45%",borderRadius:10,margin:5,padding:5,backgroundColor:"#E7EBEB"}});function wt(e){var t=e.title,n=e.children,i=t.charAt(0).toUpperCase()+t.slice(1);return Object(ge.jsxs)(se.default,{style:{margin:10},children:[Object(ge.jsx)(r.Text,{variant:"h5",children:i||"Title"}),Object(ge.jsx)(Ie.default,{horizontal:!0,style:{flexGrow:0,marginVertical:5},children:Object(ge.jsx)(se.default,{style:{display:"flex",flexWrap:"wrap",flexDirection:"column",height:200},children:n})})]})}function Dt(e){var t=e.tasks,n=e.onPress;return Object(ge.jsx)(se.default,{style:{flex:1},children:t&&t.map((function(e,t){var i,o=e.date?new Date(e.date):"",a=e.time?new Date(e.time):"";return(o||a)&&(o||(i=a),a||(i=o),o&&a&&((i=o).setHours(a.getHours()),i.setMinutes(a.getMinutes()))),Object(ge.jsx)(we.default,{onPress:function(){n(e)},children:Object(ge.jsx)(se.default,{style:[Bt.listItem],children:Object(ge.jsxs)(se.default,{style:{width:"100%",margin:5},children:[Object(ge.jsx)(r.Text,{children:e.title}),Object(ge.jsx)(r.Text,{style:Bt.description,children:e.description}),Object(ge.jsx)(r.Text,{style:Bt.time,children:i&&i.toLocaleDateString("en-US")})]})})},e.id+t)}))})}var Bt=ye.default.create({listItem:{display:"flex",flexDirection:"row",borderBottomColor:"rgb(216, 216, 216)",borderBottomWidth:1,paddingLeft:15,alignItems:"center",minHeight:50},description:{color:"grey",fontSize:12},time:{color:"green",fontSize:12}}),Rt=n(303),Tt=function(){function e(){m()(this,e),this.dispatch=Object(s.useDispatch)()}return C()(e,[{key:"getCategories",value:function(){var e=d()((function*(){var e=G+"/api/quote-action/data/category.json",t=Rt.default.create({baseURL:e,timeout:5e3});return(yield t.get(e)).data}));return function(){return e.apply(this,arguments)}}()}]),e}(),Jt=ye.default.create({line:{borderBottomColor:"rgb(216, 216, 216)",borderBottomWidth:1}});function Qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qt(Object(n),!0).forEach((function(t){oe()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Mt,Ut=ye.default.create({container:{backgroundColor:"#F3F3F3",flex:1},box:{height:100,borderRadius:10,marginHorizontal:30,marginTop:20,padding:5,color:"#489C93",borderWidth:2,borderColor:"#40A79E",backgroundColor:"#E5FFFD"}}),Lt=function(e){var t=e.navigation,n=new Tt,i=new vt,o=c.a.useState(null),l=ce()(o,2),u=l[0],f=l[1],y=Object(s.useSelector)((function(e){return e.task.value.filter((function(e){return!e.deleted}))})),h=Object(Et.useIsFocused)();Object(a.useEffect)((function(){(function(){var e=d()((function*(){var e=yield n.getCategories();f(e)}));return function(){return e.apply(this,arguments)}})()()}),[]),Object(a.useEffect)((function(){h&&i.getTasksByCategoryStore(U)}),[h]);var b=function(){t.navigate("Actions")};return Object(ge.jsx)(se.default,{style:Ut.container,children:Object(ge.jsxs)(Ie.default,{children:[Object(ge.jsx)(It,{style:Ut.box,label:'They may call your victories, "lucky"...They may mock your failures...They may laugh at your heartache...But still, they will never be happy. This is the cyclical emptiness of the hater mindset.',onPress:function(){},textStyle:{color:K}}),Object(ge.jsx)(se.default,{style:{margin:10},children:y?Object(ge.jsxs)(se.default,{children:[Object(ge.jsx)(r.Text,{variant:"h5",children:"Recent Actions"}),Object(ge.jsx)(Dt,{tasks:y.reverse(),onPress:b}),Object(ge.jsx)(r.Button,{title:"Click to see more actions",variant:"text",onPress:b,color:K})]}):Object(ge.jsx)(r.Button,{variant:"text",onPress:b,color:K,children:"Click to create first action"})}),u&&Object.keys(u).map((function(e,n){return Object(ge.jsxs)(se.default,{children:[Object(ge.jsx)(se.default,{style:Ht(Ht({},Jt.line),{},{borderBottomColor:"#339F9F",marginHorizontal:10})}),Object(ge.jsx)(wt,{navigation:t,title:e,children:u[e]&&u[e].map((function(e,n){return e.tag=e.tag.charAt(0).toUpperCase()+e.tag.slice(1),Object(ge.jsx)(It,{navigation:t,label:e.tag,onPress:function(){return n=e,g.debug(n),void t.navigate("QuoteDetail",{url:n.url});var n}},n)}))},e)]},n)}))]})})},Ft=(ye.default.create({container:{width:150,height:"40%",margin:10,backgroundColor:"grey"}}),function(e){var t=e.navigation,n=Object(a.useState)([]),i=ce()(n,2),o=i[0],c=i[1];Object(a.useEffect)((function(){s()}),[]);var s=function(){var e=d()((function*(){var e=G+"/api/quote-action/data/hard times/heartbroken/0/data.json",t=Rt.default.create({baseURL:e,timeout:5e3}),n=yield t.get(e);c(n.data.contents.map((function(e){return{title:e}})))}));return function(){return e.apply(this,arguments)}}();return Object(ge.jsx)(Ie.default,{children:Object(ge.jsx)(se.default,{style:{backgroundColor:"white",flex:1},children:o&&o.map((function(e,n){return Object(ge.jsx)(r.ListItem,{title:e.title,onPress:function(){return n=e,void t.navigate("QuoteDetail",{quote:n});var n}},n)}))})})}),Gt=n(197),Kt=n(196),Yt=function(){function e(){m()(this,e)}return C()(e,[{key:"getList",value:function(){var e=d()((function*(e){g.debug("getList",e);var t=Rt.default.create({baseURL:e,timeout:5e3});return(yield t.get(e)).data}));return function(t){return e.apply(this,arguments)}}()}]),e}();function Nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nt(Object(n),!0).forEach((function(t){oe()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var zt=ye.default.create({textStyle:{fontSize:30,padding:20,color:"white"},item:{width:"100%",justifyContent:"center",flex:3},owner:{width:"100%",alignItems:"flex-end",flex:1},viewPager:{flex:1},page:{justifyContent:"center",alignItems:"center"}}),Vt=function(e){var t=e.navigation,n=e.route,r=(null==n?void 0:n.params).url,i=Object(a.useState)(null),o=ce()(i,2),c=o[0],s=o[1],l=Mt||(Mt=new Yt);Object(a.useEffect)((function(){u(r)}),[r]),Object(a.useEffect)((function(){t.setOptions({headerLeft:function(e){return Object(ge.jsx)(mt.default,Wt(Wt({},e),{},{onPress:function(){t.goBack()},labelVisible:!0,tintColor:K}))}})}),[]);var u=function(){var e=d()((function*(e){var t=yield l.getList(G+"/api/quote-action"+e);s(t.contents),g.debug("QuoteDetailScreen",t)}));return function(t){return e.apply(this,arguments)}}();return Object(ge.jsx)(se.default,{style:{display:"flex",height:"100%"},children:Object(ge.jsx)(Gt.default,{source:{uri:G+"/files/motivation/quote_bg.png"},resizeMode:"cover",style:{flex:1},children:c&&Object(ge.jsx)(Kt.default,{horizontal:!1,children:c.map((function(e,t){return Object(ge.jsxs)(se.default,{style:{flex:1},children:[Object(ge.jsx)(It,{style:zt.item,label:e.item,textStyle:zt.textStyle}),Object(ge.jsx)(It,{label:e.owner,style:zt.owner,textStyle:zt.textStyle})]},t)}))})})})},Xt=function(){function e(t){m()(this,e),t?this.date=t:(this.date=new Date,this.date.setHours(9,0,0,0))}return C()(e,[{key:"getDate",value:function(){return this.date}},{key:"getDateByRepeat",value:function(){return this.date}},{key:"getTimeByRepeat",value:function(){return this.date}},{key:"getHoursMinutes",value:function(){return("0"+this.date.getHours()).slice(-2)+":"+("0"+this.date.getMinutes()).slice(-2)}},{key:"getDateString",value:function(){return this.date.toLocaleDateString("en-US")}}]),e}(),Zt=function(){function e(t){m()(this,e),this.days=[{title:"No Repeat",value:"no_repeat",checked:!1},{title:"Daily",value:"daily",checked:!1},{title:"Monthly",value:"monthly",checked:!1},{title:"Mon",value:"mon",checked:!1},{title:"Tue",value:"tue",checked:!1},{title:"Wed",value:"wed",checked:!1},{title:"Thu",value:"thu",checked:!1},{title:"Fri",value:"fri",checked:!1},{title:"Sat",value:"sat",checked:!1},{title:"Sun",value:"sun",checked:!1}],this.selected=[],t||(t=["no_repeat"]),this.days=this.days.map((function(e){return t.includes(e.value)&&(e.checked=!0),e})),this.setSelected()}return C()(e,[{key:"setSelected",value:function(){this.selected=this.days.filter((function(e){return e.checked}))}},{key:"getSelectedValue",value:function(){return this.selected.reduce((function(e,t){return e.push(t.value),e}),[])}},{key:"getLabel",value:function(){var e=this.selected;return this.isNoRepeat()?"No Repeat":1===e.length?"Repeat "+e[0].title:this.isDaily()?"Repeat Daily":"Repeat "+e.length+" days"}},{key:"getHideDate",value:function(){return!this.isNoRepeat()}},{key:"getHideTime",value:function(){return!!this.isMonthly()}},{key:"getShowRepeat",value:function(){return this.selected.length>0}},{key:"isNoRepeat",value:function(){return 0===this.selected.length||1===this.selected.length&&"no_repeat"===this.selected[0].value}},{key:"isDaily",value:function(){return this.selected.some((function(e){return"daily"===e.value}))}},{key:"isMonthly",value:function(){return 1===this.selected.length&&"monthly"===this.selected[0].value}},{key:"isNormalRepeat",value:function(){return 1===this.selected.length?"monthly"!==this.selected[0].value&&"no_repeat"!==this.selected[0].value:this.selected.length>1&&this.selected.length<8}}]),e}();function qt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var i=w()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return I()(this,n)}}var _t=function(){function e(t,n,r){m()(this,e),this.dayRepeat=t,this.dateModel=n,this.timeModel=r}return C()(e,[{key:"process",value:function(){this.dayRepeat&&(this.dayRepeat.isDaily()&&this.timeModel&&(this.displayChip=this.timeModel.getHoursMinutes()+" Daily",this.time=this.timeModel.getDate()),this.dayRepeat.isMonthly()&&(this.displayChip="Monthly"),this.dayRepeat.isNormalRepeat()&&this.timeModel&&(this.displayChip=this.timeModel.getHoursMinutes()+" "+this.dayRepeat.selected.length+" days",this.time=this.timeModel.getDate()),this.dayRepeat.isNoRepeat()&&this.timeModel&&this.dateModel&&(this.displayChip=this.timeModel.getHoursMinutes()+" "+this.dateModel.getDateString(),this.date=this.dateModel.getDate(),this.time=this.timeModel.getDate()),this.selectedDaysRepeat=this.dayRepeat.getSelectedValue())}}]),e}(),$t=function(e){S()(n,e);var t=qt(n);function n(e,r,i){return m()(this,n),t.call(this,e?new Zt(e):null,r?new Xt(r):null,i?new Xt(i):null)}return C()(n)}(_t),en=n(213),tn=["title","onButtonPress","onIconPress","titleStyle"];function nn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var rn=function(e){var t=e.title,n=e.onButtonPress,i=e.onIconPress,o=e.titleStyle,a=de()(e,tn);return Object(ge.jsx)(r.Button,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nn(Object(n),!0).forEach((function(t){oe()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({variant:"outlined",title:t,titleStyle:o,onPress:n,trailing:function(e){return Object(ge.jsx)(r.IconButton,{onPress:i,icon:function(e){return Object(ge.jsx)(le.default,{name:"close",size:15})}},"add-category")}},a))},on=n(147);function an(e){var t=e.onDateChange,n=e.onTimeChange,i=e.date,o=e.time,a=e.hideDate,c=e.hideTime;return Object(ge.jsxs)(se.default,{children:[!a&&Object(ge.jsxs)(se.default,{style:{display:"flex",flexDirection:"row",marginVertical:10},children:[Object(ge.jsx)(se.default,{style:{width:"40%",margin:7},children:Object(ge.jsx)(r.Text,{children:"Date:"})}),Object(ge.jsx)(se.default,{style:{width:"40%"},children:Object(ge.jsx)(on.default,{testID:"dateTimePicker",value:i,mode:"date",is24Hour:!0,onChange:function(e,n){t(e,n)}})}),Object(ge.jsx)(se.default,{style:{width:"20%"}})]},"date-picker"),!c&&Object(ge.jsxs)(se.default,{style:{display:"flex",flexDirection:"row"},children:[Object(ge.jsx)(se.default,{style:{width:"40%",margin:7},children:Object(ge.jsx)(r.Text,{children:"Time:"})}),Object(ge.jsx)(se.default,{style:{width:"30%"},children:Object(ge.jsx)(on.default,{testID:"dateTimePicker",value:o,mode:"time",is24Hour:!0,onChange:function(e,t){n(e,t)},style:{width:"100%"}})}),Object(ge.jsx)(se.default,{style:{width:"30%"}})]},"time-picker")]})}function cn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sn(e){var t=e.repeat,n=e.onChange,i=a.useState(new Zt(t)),o=ce()(i,2),c=o[0],s=o[1],l=a.useState(c.getLabel()),u=ce()(l,2),d=u[0],f=u[1],y=a.useState(c.getShowRepeat()),g=ce()(y,2),h=g[0],b=g[1],p=function(e,t){if(["no_repeat","monthly"].includes(t))c.days.map((function(n){return n.value===t?n.checked=e:n.checked=!1,n}));else{c.days[0].checked=!1,c.days[2].checked=!1;var r=[t];"daily"===t&&(r=["daily","mon","tue","wed","thu","fri","sat","sun"]),c.days.map((function(t){return r.includes(t.value)&&(t.checked=e),t})),c.days[1].checked=c.days.slice(3).every((function(e){return e.checked}))}c.setSelected();var i=c.getSelectedValue(),o=new Zt(i);s(o),f(c.getLabel()),n(o)};return Object(ge.jsxs)(se.default,{style:{display:"flex",flexDirection:"column"},children:[Object(ge.jsx)(r.Button,{title:d,onPress:function(){b(!h)},leading:function(e){return Object(ge.jsx)(le.default,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cn(Object(n),!0).forEach((function(t){oe()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({name:"repeat"},e))},style:{margin:10}}),h&&Object(ge.jsx)(se.default,{style:{display:"flex",flexDirection:"row",flexWrap:"wrap"},children:c&&c.days.map((function(e){return Object(ge.jsx)(se.default,{style:{width:"50%",alignItems:"flex-start"},children:Object(ge.jsxs)(r.Pressable,{onPress:function(){p(!e.checked,e.value)},style:{display:"flex",flexDirection:"row",margin:10},children:[Object(ge.jsx)(rt,{style:fn.checkbox,value:e.checked,keyword:e.value,onValueChange:p}),Object(ge.jsx)(r.Text,{children:e.title})]})},e.value)}))})]})}var ln,un,dn,fn=ye.default.create({checkbox:{marginHorizontal:10}});function yn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yn(Object(n),!0).forEach((function(t){oe()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hn(e){var t=new Xt,n=e.visible,i=e.repeat,o=e.date,c=e.time,s=e.onClose,l=e.onDone,u=a.useState(!1),d=ce()(u,2),f=d[0],y=d[1],g=a.useState(!1),h=ce()(g,2),b=h[0],p=h[1];a.useEffect((function(){!0===n&&(ln=new Zt(i),un=o,dn=c,j(ln))}),[e.visible]);var j=function(e){y(e.getHideDate()),p(e.getHideTime())};return Object(ge.jsx)(Ve,{visible:n,children:Object(ge.jsx)(Ye,{children:Object(ge.jsxs)(se.default,{children:[Object(ge.jsxs)(se.default,{style:{display:"flex",flexDirection:"row"},children:[Object(ge.jsx)(se.default,{style:{flex:1},children:Object(ge.jsx)(r.DialogHeader,{title:"Time"})}),Object(ge.jsx)(r.IconButton,gn({onPress:s,icon:function(e){return Object(ge.jsx)(le.default,gn({name:"close"},e))}},e))]}),Object(ge.jsxs)(r.DialogContent,{children:[Object(ge.jsx)(sn,{repeat:i,onChange:function(e){j(ln=e)}}),Object(ge.jsx)(an,{date:o||t.getDate(),time:c||t.getDate(),hideDate:f,hideTime:b,onDateChange:function(e,t){un=t},onTimeChange:function(e,t){dn=t}})]}),Object(ge.jsx)(r.DialogActions,{children:Object(ge.jsx)(r.Button,{title:"Done",onPress:function(){l(ln,new Xt(un),new Xt(dn))}})})]})})})}function bn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bn(Object(n),!0).forEach((function(t){oe()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var jn=ye.default.create({container:{backgroundColor:"white",padding:15,flex:1},dropdown:{height:50,borderColor:"gray",borderBottomWidth:1,paddingHorizontal:8,marginRight:20,flex:1},placeholderStyle:{fontSize:16},selectedTextStyle:{fontSize:16},iconStyle:{width:20,height:20},inputSearchStyle:{height:40,fontSize:16}}),vn=Object(s.connect)((function(e){var t=e.category.value,n=null==t?void 0:t.map((function(e){return{value:e.id,label:e.title}}));return{categories:t,displayCategories:n}}))((function(e){var t=e.navigation,n=e.route,i=e.displayCategories,o=n.params,c=null!=o&&o.task?JSON.parse(null==o?void 0:o.task):null,l=(null==o?void 0:o.categoryId)||L,u=a.useState((null==c?void 0:c.title)||""),f=ce()(u,2),y=f[0],h=f[1],b=a.useState((null==c?void 0:c.description)||""),p=ce()(b,2),j=p[0],v=p[1],O=a.useState(null),A=ce()(O,2),m=A[0],x=A[1],C=a.useState(null),k=ce()(C,2),S=k[0],E=k[1],I=a.useState(!1),P=ce()(I,2),w=P[0],D=P[1],B=a.useState(!1),R=ce()(B,2),T=R[0],J=R[1],Q=a.useState(null!=c&&c.date?new Date(c.date):null),M=ce()(Q,2),U=M[0],F=M[1],G=a.useState(null!=c&&c.time?new Date(c.time):null),Y=ce()(G,2),N=Y[0],z=Y[1],V=a.useState((null==c?void 0:c.selectedDaysRepeat)||null),X=ce()(V,2),Z=X[0],q=X[1],_=a.useRef();_.current={title:y,description:j,categoryUpdate:S,taskTimeDialogDate:U,taskTimeDialogTime:N,taskTimeDialogRepeat:Z};var $=Object(s.useDispatch)(),ee=!!c,te=Ot(),ne=jt();Object(a.useEffect)((function(){t.setOptions({headerLeft:function(e){return Object(ge.jsx)(mt.default,pn(pn({},e),{},{onPress:re,label:"Actions",labelVisible:!0,tintColor:K}))}}),ie()}),[]);var re=function(){var e=d()((function*(){yield ae();var e=_.current.categoryUpdate;t.navigate("Actions",{action:"reload",category:e?{id:null==e?void 0:e.value,title:null==e?void 0:e.label}:null})}));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=d()((function*(){var e=yield ne.getCategoriesWithDefault();ne.setCategories(e)}));return function(){return e.apply(this,arguments)}}(),oe=function(){J(!1)};a.useEffect((function(){if(c){var e=new $t(Z,U,N);e.process(),x(e.displayChip)}}),[c]);var ae=function(){var e=d()((function*(){var e=c?c.id:null,t=null==_?void 0:_.current,n=t.title,r=t.description,i=t.categoryUpdate,o=t.taskTimeDialogDate,a=t.taskTimeDialogTime,s=t.taskTimeDialogRepeat,u=new W({id:e,title:n,categoryId:l,description:r,date:o,time:a,selectedDaysRepeat:s});H.validate(u),yield te.saveTaskByCategory({categoryId:(null==i?void 0:i.value)||l,item:u,isUpdate:ee,dispatch:$})}));return function(){return e.apply(this,arguments)}}(),le=function(){F(null),z(null),q(null),x(null)},ue=function(){var e=d()((function*(){t.navigate("Actions",{action:"delete",item:c})}));return function(){return e.apply(this,arguments)}}();return Object(ge.jsxs)(se.default,{style:jn.container,id:"task-form",children:[Object(ge.jsx)(Ye,{children:Object(ge.jsxs)(se.default,{style:{flex:1},children:[Object(ge.jsx)(r.TextInput,{variant:"standard",value:y,onChangeText:h,placeholder:"Action Title"}),Object(ge.jsx)(r.TextInput,{variant:"standard",value:j,onChangeText:v,placeholder:"Action Description"}),Object(ge.jsx)(se.default,{style:{display:"flex",flexDirection:"row"},children:Object(ge.jsx)(en.Dropdown,{style:[jn.dropdown,w&&{borderColor:"blue"}],placeholderStyle:jn.placeholderStyle,selectedTextStyle:jn.selectedTextStyle,inputSearchStyle:jn.inputSearchStyle,iconStyle:jn.iconStyle,data:i,search:!0,maxHeight:300,labelField:"label",valueField:"value",placeholder:w?"...":"Categories",searchPlaceholder:"Search...",value:(null==S?void 0:S.value)||l,onFocus:function(){return D(!0)},onBlur:function(){return D(!1)},onChange:function(e){E(e),D(!1)}})}),m&&Object(ge.jsx)(rn,{title:m,onButtonPress:function(){J(!0)},onIconPress:function(){g.debug("onCloseChip"),le()},titleStyle:{flex:1},style:{marginTop:10,borderRadius:20}}),T&&Object(ge.jsx)(hn,{repeat:Z,visible:T,date:U,time:N,onClose:oe,onDone:function(e,t,n){var r=new _t(e,t,n);r.process(),x(r.displayChip),q(r.selectedDaysRepeat),F(r.date),z(r.time),oe()}})]})}),Object(ge.jsxs)(se.default,{children:[ee&&Object(ge.jsx)(r.Button,{color:"red",title:"Delete",tintColor:"white",onPress:ue,style:{width:"100%",marginBottom:20}}),Object(ge.jsx)(r.Button,{disabled:!y,title:ee?"Update":"Create",onPress:re,color:K,tintColor:"white",style:{width:"100%",marginBottom:20}})]})]})})),On=Object(o.default)();function An(){return Object(ge.jsx)(s.Provider,{store:re,children:Object(ge.jsx)(r.Provider,{children:Object(ge.jsx)(i.default,{children:Object(ge.jsxs)(On.Navigator,{children:[Object(ge.jsx)(On.Screen,{name:"Home",component:Lt,options:{title:"Home"}}),Object(ge.jsx)(On.Screen,{name:"Actions",component:St,options:{title:"Actions"}}),Object(ge.jsx)(On.Screen,{name:"ActionDetail",component:vn,options:{title:"Action Detail"}}),Object(ge.jsx)(On.Screen,{name:"Recognize",component:St,options:{title:"Actions"}}),Object(ge.jsx)(On.Screen,{name:"Quotes",component:Ft,options:{title:"Quotes"}}),Object(ge.jsx)(On.Screen,{name:"QuoteDetail",component:Vt,options:{title:"Quote"}})]})})})})}},226:function(e,t,n){e.exports=n(289)}},[[226,1,2]]]);
//# sourceMappingURL=app.404ac375.chunk.js.map